import{a as W}from"./chunk-KKRHNXEK.js";import{c as k}from"./chunk-VQTON5AL.js";import{Db as R,Eb as T,Fa as y,Ib as v,K as m,La as _,Ma as C,Pa as M,S as i,T as o,X as w,ea as a,hb as S,ia as d,ja as p,ka as g,ma as f,pb as I,rb as b,ub as E,v as s,vb as P,w as h}from"./chunk-V5BBYBEN.js";import"./chunk-QL7EMX3B.js";import"./chunk-KISXJL5B.js";import"./chunk-HJQ5J22D.js";import"./chunk-HC6MZPB3.js";import"./chunk-763F6G4M.js";import"./chunk-TPFYUTHI.js";import"./chunk-WND7HVWL.js";import"./chunk-Z6EYHB5B.js";import"./chunk-ZRULQIYR.js";import"./chunk-D3ZZG42Y.js";import"./chunk-PNSU6RTT.js";import"./chunk-MM5QLNJM.js";import"./chunk-WTBOK45U.js";import"./chunk-DLDB5PET.js";import"./chunk-JXIEZMHN.js";import"./chunk-IDJ2LIQM.js";import"./chunk-MCRJI3T3.js";import"./chunk-QVBGS5B3.js";import"./chunk-GAXET6VH.js";import"./chunk-6A2YPY52.js";import"./chunk-5W6SV7YT.js";import"./chunk-33E37TNX.js";import"./chunk-3R6QK3UX.js";import"./chunk-WYPTRRHD.js";import"./chunk-4WFVMWDK.js";import"./chunk-MDMZPGPE.js";import"./chunk-B43CU5JX.js";import"./chunk-TQEIIVVC.js";import"./chunk-X7ZBJCWB.js";import"./chunk-LF5XB4YN.js";import{g as c}from"./chunk-LDRJ6W7P.js";var q=(()=>{class r{constructor(){this.email="",this.password="",this.auth=s(W),this.toast=s(k),this.router=s(y)}register(){return c(this,null,function*(){if(!this.email||!this.password){this.toast.show("Completa email y contrase\xF1a","warning");return}try{yield this.auth.register(this.email,this.password).toPromise(),yield this.toast.show("Cuenta creada. Ahora inicia sesi\xF3n.","success"),this.router.navigate(["/login"])}catch(l){l?.status===409?this.toast.show("El email ya existe","danger"):this.toast.show("No se pudo registrar","danger")}})}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=h({type:r,selectors:[["app-register"]],standalone:!0,features:[f],decls:16,vars:2,consts:[["color","light"],[1,"ion-padding"],["position","stacked"],["type","email","autocomplete","email",3,"ngModelChange","ngModel"],["type","password","autocomplete","new-password",3,"ngModelChange","ngModel"],["expand","block","color","primary",3,"click"]],template:function(n,e){n&1&&(i(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),a(3,"Crear cuenta"),o()()(),i(4,"ion-content",1)(5,"ion-item")(6,"ion-label",2),a(7,"Email"),o(),i(8,"ion-input",3),g("ngModelChange",function(t){return p(e.email,t)||(e.email=t),t}),o()(),i(9,"ion-item")(10,"ion-label",2),a(11,"Contrase\xF1a"),o(),i(12,"ion-input",4),g("ngModelChange",function(t){return p(e.password,t)||(e.password=t),t}),o()(),i(13,"div",1)(14,"ion-button",5),w("click",function(){return e.register()}),a(15,"Registrar"),o()()()),n&2&&(m(8),d("ngModel",e.email),m(4),d("ngModel",e.password))},dependencies:[I,b,R,T,E,P,v,S,M,_,C],encapsulation:2})}}return r})();export{q as RegisterPage};
