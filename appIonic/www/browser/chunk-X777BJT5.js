import{a as B}from"./chunk-76FVMFA2.js";import"./chunk-YBY7T5CB.js";import{a as W}from"./chunk-KKRHNXEK.js";import"./chunk-NUEAGB3S.js";import{c as F}from"./chunk-VQTON5AL.js";import{Db as E,Eb as P,Fa as y,Ib as T,K as d,La as S,Ma as M,Pa as C,S as e,T as t,X as _,ea as a,h,hb as I,ia as m,ja as c,ka as p,ma as w,pb as L,rb as b,ub as k,v as r,vb as v,w as f}from"./chunk-V5BBYBEN.js";import"./chunk-QL7EMX3B.js";import"./chunk-KISXJL5B.js";import"./chunk-HJQ5J22D.js";import"./chunk-HC6MZPB3.js";import"./chunk-763F6G4M.js";import"./chunk-TPFYUTHI.js";import"./chunk-WND7HVWL.js";import"./chunk-Z6EYHB5B.js";import"./chunk-ZRULQIYR.js";import"./chunk-D3ZZG42Y.js";import"./chunk-PNSU6RTT.js";import"./chunk-MM5QLNJM.js";import"./chunk-WTBOK45U.js";import"./chunk-DLDB5PET.js";import"./chunk-JXIEZMHN.js";import"./chunk-IDJ2LIQM.js";import"./chunk-MCRJI3T3.js";import"./chunk-QVBGS5B3.js";import"./chunk-GAXET6VH.js";import"./chunk-6A2YPY52.js";import"./chunk-5W6SV7YT.js";import"./chunk-33E37TNX.js";import"./chunk-3R6QK3UX.js";import"./chunk-WYPTRRHD.js";import"./chunk-4WFVMWDK.js";import"./chunk-MDMZPGPE.js";import"./chunk-B43CU5JX.js";import"./chunk-TQEIIVVC.js";import"./chunk-X7ZBJCWB.js";import"./chunk-LF5XB4YN.js";import{g as u}from"./chunk-LDRJ6W7P.js";var G=(()=>{class s{constructor(){this.email="",this.password="",this.auth=r(W),this.orders=r(B),this.toast=r(F),this.router=r(y)}login(){return u(this,null,function*(){try{let i=(yield h(this.auth.login(this.email,this.password)))?.access_token;i&&localStorage.setItem("access_token",i),yield this.orders.runSync(),yield this.toast.show("Sesi\xF3n iniciada","success"),this.router.navigate(["/dashboard"])}catch{this.toast.show("Credenciales inv\xE1lidas","danger")}})}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=f({type:s,selectors:[["app-login"]],standalone:!0,features:[w],decls:19,vars:2,consts:[["color","light"],[1,"ion-padding"],["position","stacked"],["type","email",3,"ngModelChange","ngModel"],["type","password",3,"ngModelChange","ngModel"],["expand","block","color","primary",3,"click"],[1,"ion-text-center"],["routerLink","/register"]],template:function(i,n){i&1&&(e(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),a(3,"Login"),t()()(),e(4,"ion-content",1)(5,"ion-item")(6,"ion-label",2),a(7,"Email"),t(),e(8,"ion-input",3),p("ngModelChange",function(o){return c(n.email,o)||(n.email=o),o}),t()(),e(9,"ion-item")(10,"ion-label",2),a(11,"Contrase\xF1a"),t(),e(12,"ion-input",4),p("ngModelChange",function(o){return c(n.password,o)||(n.password=o),o}),t()(),e(13,"div",1)(14,"ion-button",5),_("click",function(){return n.login()}),a(15,"Entrar"),t()(),e(16,"div",6)(17,"a",7),a(18,"Crear cuenta"),t()()()),i&2&&(d(8),m("ngModel",n.email),d(4),m("ngModel",n.password))},dependencies:[L,b,E,P,k,v,T,I,C,S,M],encapsulation:2})}}return s})();export{G as LoginPage};
