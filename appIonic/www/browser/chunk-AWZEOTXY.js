import{a as B}from"./chunk-6QGGOMUZ.js";import{a as F}from"./chunk-76FVMFA2.js";import"./chunk-YBY7T5CB.js";import"./chunk-NUEAGB3S.js";import"./chunk-VQTON5AL.js";import{C as f,D as g,Db as V,Ea as k,Eb as A,K as a,O as s,Q as p,S as r,T as i,W as _,X as x,Y as d,ea as o,fa as h,ga as m,hb as S,jb as y,kb as E,lb as T,ma as I,nb as D,oa as C,pa as v,pb as w,rb as M,ua as P,v as c,w as u,wa as b}from"./chunk-V5BBYBEN.js";import"./chunk-QL7EMX3B.js";import"./chunk-KISXJL5B.js";import"./chunk-HJQ5J22D.js";import"./chunk-HC6MZPB3.js";import"./chunk-763F6G4M.js";import"./chunk-TPFYUTHI.js";import"./chunk-WND7HVWL.js";import"./chunk-Z6EYHB5B.js";import"./chunk-ZRULQIYR.js";import"./chunk-D3ZZG42Y.js";import"./chunk-PNSU6RTT.js";import"./chunk-MM5QLNJM.js";import"./chunk-WTBOK45U.js";import"./chunk-DLDB5PET.js";import"./chunk-JXIEZMHN.js";import"./chunk-IDJ2LIQM.js";import"./chunk-MCRJI3T3.js";import"./chunk-QVBGS5B3.js";import"./chunk-GAXET6VH.js";import"./chunk-6A2YPY52.js";import"./chunk-5W6SV7YT.js";import"./chunk-33E37TNX.js";import"./chunk-3R6QK3UX.js";import"./chunk-WYPTRRHD.js";import"./chunk-4WFVMWDK.js";import"./chunk-MDMZPGPE.js";import"./chunk-B43CU5JX.js";import"./chunk-TQEIIVVC.js";import"./chunk-X7ZBJCWB.js";import"./chunk-LF5XB4YN.js";import"./chunk-LDRJ6W7P.js";function N(e,H){if(e&1&&(r(0,"p")(1,"strong"),o(2,"Stock:"),i(),o(3),i()),e&2){let t=d(2);a(3),m(" ",t.stock," ")}}function O(e,H){if(e&1){let t=_();r(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),o(3),i()(),r(4,"ion-card-content")(5,"p")(6,"strong"),o(7,"Precio:"),i(),o(8),C(9,"currency"),i(),s(10,N,4,1,"p",2),i(),r(11,"div",1)(12,"ion-button",3),x("click",function(){f(t);let l=d();return g(l.add())}),o(13,"Agregar al carrito"),i()()()}if(e&2){let t=d();a(3),h(t.p.name),a(5),m(" ",v(9,3,t.p.price,"GTQ"),""),a(2),p("ngIf",t.stock!=null)}}var L=(()=>{class e{constructor(){this.stock=null,this.route=c(k),this.catalog=c(B),this.orders=c(F)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.catalog.get(t).subscribe(n=>this.p=n),this.catalog.stock(t).subscribe(n=>this.stock=n?.stock??null)}add(){this.p&&this.orders.addToCart({productId:this.p.id??this.p.productId,qty:1,unitPrice:this.p.price,name:this.p.name}).subscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=u({type:e,selectors:[["app-product-detail"]],standalone:!0,features:[I],decls:6,vars:1,consts:[["color","light"],[1,"ion-padding"],[4,"ngIf"],["color","primary",3,"click"]],template:function(n,l){n&1&&(r(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),o(3,"Detalle"),i()()(),r(4,"ion-content",1),s(5,O,14,6,"ion-card",2),i()),n&2&&(a(5),p("ngIf",l.p))},dependencies:[w,M,V,A,y,T,D,E,S,b,P],encapsulation:2})}}return e})();export{L as ProductDetailPage};
