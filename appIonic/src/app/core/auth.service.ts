import { Injectable, inject } from '@angular/core'; import { HttpClient } from '@angular/common/http'; import { environment } from '../environments/environment'; @Injectable({ providedIn: 'root' }) export class AuthService { private http = inject(HttpClient); private base = environment.apiBase + '/auth'; isLogged(){ return !!localStorage.getItem('access_token'); } login(email:string, password:string){ return this.http.post<{ access_token: string }>(`${this.base}/login`, { email, password }); } me(){ return this.http.get<{id:number,email:string,createdAt:string}>(`${this.base}/me`); } register(email:string,password:string){ return this.http.post(`${this.base}/register`, { email, password }); } logout(){ localStorage.removeItem('access_token'); } }